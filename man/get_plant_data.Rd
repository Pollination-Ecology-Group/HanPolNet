% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_plant_data.R
\name{get_plant_data}
\alias{get_plant_data}
\title{Get and filter plant abundance data}
\usage{
get_plant_data(years = NULL, species = NULL, counted_stalks = NULL)
}
\arguments{
\item{years}{A numeric vector of years to include. If NULL, all years are returned.}

\item{species}{A character vector of species codes to include. If NULL, all species are returned.}

\item{counted_stalks}{A logical value. If TRUE, returns only species where stalks were counted.
If FALSE, returns only species where stalks were not counted (presence/absence).
If NULL (the default), returns all species regardless of counting method.}
}
\value{
A data.frame containing the filtered plant abundance data.
}
\description{
This function retrieves the plant abundance data, allowing for filtering by
year, species, and whether the plant stalks were counted.
}
\details{
The function uses two datasets:
- `plant_abundance`: A data.frame containing plant counts with columns for year, plot_id, and various plant species.
- `plant_metadata`: A data.frame containing metadata about each plant species, including whether stalks were counted (1) or not (0).
The function filters the `plant_abundance` data based on the criteria provided by the user.
If no filters are provided, the function returns the entire dataset.
The filtering is done in two main steps:
1. **Species Filtering**: The function first filters the `plant_metadata` to identify which species to include based on the `species` and `counted_stalks` parameters. It then selects only those species from the `plant_abundance` dataset.
2. **Year Filtering**: The function then filters the `plant_abundance` dataset by the specified years.
The final result is a data.frame containing only the rows and columns that match the user's criteria.
This function is useful for researchers who want to analyze specific subsets of the plant abundance data without having to manually filter the datasets themselves.
It is important to note that the function assumes the presence of the `plant_abundance` and `plant_metadata` datasets in the environment where it is called.
Make sure to load the package or source the data before using this function.
}
\examples{
# Get all data for the year 2011
d11 <- get_plant_data(years = 11)

# Get data for Achillea millefolium where stalks were counted
d_ach <- get_plant_data(species = "Ach_mil", counted_stalks = TRUE)
}
