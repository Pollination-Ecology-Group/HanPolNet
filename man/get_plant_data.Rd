% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_plant_data.R
\name{get_plant_data}
\alias{get_plant_data}
\title{Get and filter plant abundance data}
\usage{
get_plant_data(
  years = NULL,
  plot_id = NULL,
  species = NULL,
  counted_stalks = NULL,
  output = "raw"
)
}
\arguments{
\item{years}{A numeric vector of years to include. If NULL, all years are returned.}

\item{plot_id}{A numeric vector of plot IDs to include. If NULL, all plots are returned.}

\item{species}{A character vector of species codes to include. If NULL, all species are returned.}

\item{counted_stalks}{A logical value. If TRUE, returns only species where stalks were counted.
If FALSE, returns only species where stalks were not counted (presence/absence).
If NULL (the default), returns all species regardless of counting method.}

\item{output}{A character string specifying the output format. Can be one of
`"raw"` (the default) or `"standardized"`. See Details section.}
}
\value{
A data.frame containing the filtered plant abundance data. If `output = "standardized"`,
  all abundance values are scaled to a 0-1 range.
}
\description{
This function retrieves the plant abundance data, allowing for filtering and
standardization of abundance values to make different survey methods comparable.
}
\details{
The `output = "standardized"` option is designed to place all abundance
values onto a common 0-1 scale, which is useful for calculating indices or
comparing across species surveyed with different methods. The standardization
is performed as follows:

\itemize{
  \item **Sublot Counts:** For species measured on the 0-64 presence/absence
    scale (`stalk_counted == 0`), values are converted to a proportion by
    dividing by 64. A value of 64 becomes 1.0 (maximum frequency).
  \item **Stalk Counts:** For species measured by direct stalk counts
    (`stalk_counted == 1`), values are scaled relative to the maximum abundance
    observed for that specific species across the entire dataset. Each value is
    divided by that species' global maximum, resulting in a scale where the
    highest observed count for that species is 1.0.
}
}
\examples{
# Get standardized data for plots 1 through 5 in the year 2022
d_subset <- get_plant_data(years = 22, plot_id = 1:5, output = "standardized")

}
